-ext_media_t.co,-media_t.co,-urls_t.co)
##CAMBIAR CADA DÍA
votasi_diaria10=votasi_diaria
save(votasi_diaria10, file = paste0("C:/Users/Usuario/Documents/LUC/Bases_diarias/votasi/base_votasi",
Sys.Date(),".RData"))
# ##base general sacando duplicados
#
# votosi_crec <- rbind(votosi_df_acumulada, votosi_diaria)
# votosi_crec <- subset(votosi_crec,duplicated(votosi_crec$status_id)==F)
#
#
# ##saco lo que hay en duplicados y cargo acumulado
#
# acumulada$drop()
#
# acumulada$insert(votosi_crec)
##LUC diaria
##votosidiaria
luc_diaria <- search_tweets(
"LUC", n = 18000, include_rts = TRUE,retryonratelimit=TRUE)
luc_diaria$date <- Sys.Date()
##homogeinizo nombres
luc_diaria = luc_diaria %>%
select(-quote_count,-reply_count,-ext_media_type,-account_lang,
-ext_media_t.co,-media_t.co,-urls_t.co)
##me quedo con Uruguay y/o Montevideo
luc_diaria_uru = luc_diaria%>%
dplyr::filter(grepl('Uruguay|Montevideo', location))
##ponerle nombre diferente al objeto!!!!!!!!!!!
luc_diaria_uru10 = luc_diaria_uru
save(luc_diaria_uru10, file = paste0("C:/Users/Usuario/Documents/LUC/Bases_diarias/luc/base_luc",
Sys.Date(),".RData"))
##votaNOderogar
noderogar_diaria <- search_tweets(
"#votaNOderogar", n = 18000, include_rts = TRUE,retryonratelimit=TRUE)
noderogar_diaria$date <- Sys.Date()
##homogeinizo nombres
noderogar_diaria = noderogar_diaria %>%
select(-quote_count,-reply_count,-ext_media_type,-account_lang,
-ext_media_t.co,-media_t.co,-urls_t.co)
##CAMBIAR CADA DÍA
noderogar_diaria10=noderogar_diaria
save(noderogar_diaria10, file = paste0("C:/Users/Usuario/Documents/LUC/Bases_diarias/votanoderogar/base_votanoderogar",
Sys.Date(),".RData"))
##Screpeo Prensa
prensa_luc  = gdeltr2::ft_v2_api(
terms = c("LUC", "Ley de Urgente Consideración"),
modes = c("ArtList"),
visualize_results = F,
timespans = "55 days",
source_countries = "UY"
)
prensa_luc = subset(prensa_luc,duplicated(prensa_luc$titleArticle)==FALSE)
prensa_luc10 = prensa_luc
save(prensa_luc10, file = paste0("C:/Users/Usuario/Documents/LUC/Bases_diarias/prensa/prensa_luc", Sys.Date(),".RData"))
load("~/LUC/Bases_diarias/votasi/base_votasi2022-01-10.RData")
load("~/LUC/Bases_diarias/votasi/base_votasi2021-12-14.RData")
load("~/LUC/Bases_diarias/votasi/base_votasi2021-12-14.RData")
runApp()
library("httr")
library("foreign")
library("twitteR")
library(splitstackshape)
library("tidyverse")
library("sqldf")
library("ROAuth")
library("httr")
library("foreign")
library(tidyverse)
library(splitstackshape)
library(sqldf)
library("rtweet")
library("rjson")
library(mongolite)
library(beepr)
token = create_token(app = "Cursocuali",
consumer_key = "RPTRJroZJtehFMGs30pX96F7t",
consumer_secret = "ih7OJVNAnzwbpWVgedAB4D0B2rtSlCUG0X9EBuHNEoSGDkuqVm",
access_token = "2296175138-EJAjXB7H3gnnUIFxYWl53WPSv691LsZeLDXuNfE",
access_secret = "6rTXlnlhaGtHuAnC6KCVuNqu60R4IBMyW3SSs0AArjWGJ",
set_renv = TRUE)
votosi_diaria <- search_tweets(
"#votosi", n = 18000, include_rts = TRUE,retryonratelimit=TRUE)
votosi_diaria$date <- Sys.Date()
##homogeinizo nombres
votosi_diaria = votosi_diaria %>%
select(-quote_count,-reply_count,-ext_media_type,-account_lang,
-ext_media_t.co,-media_t.co,-urls_t.co)
##CAMBIAR CADA DÍA
votosi_diaria132022=votosi_diaria
save(votosi_diaria132022, file = paste0("C:/Users/Usuario/Documents/LUC/Bases_diarias/votosi/base",
Sys.Date(),".RData"))
##votasidiaria - se corre diariamente
votasi_diaria <- search_tweets(
"#votasi", n = 18000, include_rts = TRUE,retryonratelimit=TRUE)
votasi_diaria$date <- Sys.Date()
votasi_diaria = votasi_diaria %>%
select(-quote_count,-reply_count,-ext_media_type,-account_lang,
-ext_media_t.co,-media_t.co,-urls_t.co)
##CAMBIAR CADA DÍA
votasi_diaria132022=votasi_diaria
save(votasi_diaria132022, file = paste0("C:/Users/Usuario/Documents/LUC/Bases_diarias/votasi/base_votasi",
Sys.Date(),".RData"))
# ##base general sacando duplicados
#
# votosi_crec <- rbind(votosi_df_acumulada, votosi_diaria)
# votosi_crec <- subset(votosi_crec,duplicated(votosi_crec$status_id)==F)
#
#
# ##saco lo que hay en duplicados y cargo acumulado
#
# acumulada$drop()
#
# acumulada$insert(votosi_crec)
##LUC diaria
##votosidiaria
luc_diaria <- search_tweets(
"LUC", n = 18000, include_rts = TRUE,retryonratelimit=TRUE)
luc_diaria$date <- Sys.Date()
##homogeinizo nombres
luc_diaria = luc_diaria %>%
select(-quote_count,-reply_count,-ext_media_type,-account_lang,
-ext_media_t.co,-media_t.co,-urls_t.co)
##me quedo con Uruguay y/o Montevideo
luc_diaria_uru = luc_diaria%>%
dplyr::filter(grepl('Uruguay|Montevideo', location))
##ponerle nombre diferente al objeto!!!!!!!!!!!
luc_diaria_uru132022 = luc_diaria_uru
save(luc_diaria_uru132022, file = paste0("C:/Users/Usuario/Documents/LUC/Bases_diarias/luc/base_luc",
Sys.Date(),".RData"))
##votaNOderogar
noderogar_diaria <- search_tweets(
"#votaNOderogar", n = 18000, include_rts = TRUE,retryonratelimit=TRUE)
noderogar_diaria$date <- Sys.Date()
##homogeinizo nombres
noderogar_diaria = noderogar_diaria %>%
select(-quote_count,-reply_count,-ext_media_type,-account_lang,
-ext_media_t.co,-media_t.co,-urls_t.co)
##CAMBIAR CADA DÍA
noderogar_diaria132022=noderogar_diaria
save(noderogar_diaria132022, file = paste0("C:/Users/Usuario/Documents/LUC/Bases_diarias/votanoderogar/base_votanoderogar",
Sys.Date(),".RData"))
##Screpeo Prensa
prensa_luc  = gdeltr2::ft_v2_api(
terms = c("LUC", "Ley de Urgente Consideración"),
modes = c("ArtList"),
visualize_results = F,
timespans = "55 days",
source_countries = "UY"
)
prensa_luc = subset(prensa_luc,duplicated(prensa_luc$titleArticle)==FALSE)
prensa_luc132022 = prensa_luc
save(prensa_luc132022, file = paste0("C:/Users/Usuario/Documents/LUC/Bases_diarias/prensa/prensa_luc", Sys.Date(),".RData"))
shiny::runApp()
library(shiny)
library(shinydashboard)
library(dplyr)
library(purrr)
library(rlang)
library(stringr)
library(DT)
library(googlesheets4)
library(shinyWidgets)
library(plotly)
library(openxlsx)
library(dplyr)
library(wrapr)
library(shinycssloaders)
library(igraph)
library(visNetwork)
library(graphTweets)
library(quanteda)
library(wordcloud2)
library("httr")
library("foreign")
library("twitteR")
library(splitstackshape)
library("tidyverse")
library("sqldf")
library("ROAuth")
library("httr")
library("foreign")
library(tidyverse)
library(splitstackshape)
library(sqldf)
library("rtweet")
library("rjson")
library(mongolite)
library(beepr)
token = create_token(app = "Cursocuali",
consumer_key = "RPTRJroZJtehFMGs30pX96F7t",
consumer_secret = "ih7OJVNAnzwbpWVgedAB4D0B2rtSlCUG0X9EBuHNEoSGDkuqVm",
access_token = "2296175138-EJAjXB7H3gnnUIFxYWl53WPSv691LsZeLDXuNfE",
access_secret = "6rTXlnlhaGtHuAnC6KCVuNqu60R4IBMyW3SSs0AArjWGJ",
set_renv = TRUE)
votosi_diaria <- search_tweets(
"#votosi", n = 18000, include_rts = TRUE,retryonratelimit=TRUE)
votosi_diaria$date <- Sys.Date()
##homogeinizo nombres
votosi_diaria = votosi_diaria %>%
select(-quote_count,-reply_count,-ext_media_type,-account_lang,
-ext_media_t.co,-media_t.co,-urls_t.co)
##CAMBIAR CADA DÍA
votosi_diaria172022=votosi_diaria
save(votosi_diaria172022, file = paste0("C:/Users/Usuario/Documents/LUC/Bases_diarias/votosi/base",
Sys.Date(),".RData"))
##votasidiaria - se corre diariamente
votasi_diaria <- search_tweets(
"#votasi", n = 18000, include_rts = TRUE,retryonratelimit=TRUE)
votasi_diaria$date <- Sys.Date()
votasi_diaria = votasi_diaria %>%
select(-quote_count,-reply_count,-ext_media_type,-account_lang,
-ext_media_t.co,-media_t.co,-urls_t.co)
##CAMBIAR CADA DÍA
votasi_diaria172022=votasi_diaria
save(votasi_diaria172022, file = paste0("C:/Users/Usuario/Documents/LUC/Bases_diarias/votasi/base_votasi",
Sys.Date(),".RData"))
# ##base general sacando duplicados
#
# votosi_crec <- rbind(votosi_df_acumulada, votosi_diaria)
# votosi_crec <- subset(votosi_crec,duplicated(votosi_crec$status_id)==F)
#
#
# ##saco lo que hay en duplicados y cargo acumulado
#
# acumulada$drop()
#
# acumulada$insert(votosi_crec)
##LUC diaria
##votosidiaria
luc_diaria <- search_tweets(
"LUC", n = 18000, include_rts = TRUE,retryonratelimit=TRUE)
luc_diaria$date <- Sys.Date()
##homogeinizo nombres
luc_diaria = luc_diaria %>%
select(-quote_count,-reply_count,-ext_media_type,-account_lang,
-ext_media_t.co,-media_t.co,-urls_t.co)
##me quedo con Uruguay y/o Montevideo
luc_diaria_uru = luc_diaria%>%
dplyr::filter(grepl('Uruguay|Montevideo', location))
##ponerle nombre diferente al objeto!!!!!!!!!!!
luc_diaria_uru172022 = luc_diaria_uru
save(luc_diaria_uru172022, file = paste0("C:/Users/Usuario/Documents/LUC/Bases_diarias/luc/base_luc",
Sys.Date(),".RData"))
##votaNOderogar
noderogar_diaria <- search_tweets(
"#votaNOderogar", n = 18000, include_rts = TRUE,retryonratelimit=TRUE)
noderogar_diaria$date <- Sys.Date()
##homogeinizo nombres
noderogar_diaria = noderogar_diaria %>%
select(-quote_count,-reply_count,-ext_media_type,-account_lang,
-ext_media_t.co,-media_t.co,-urls_t.co)
##CAMBIAR CADA DÍA
noderogar_diaria172022=noderogar_diaria
save(noderogar_diaria172022, file = paste0("C:/Users/Usuario/Documents/LUC/Bases_diarias/votanoderogar/base_votanoderogar",
Sys.Date(),".RData"))
##Screpeo Prensa
prensa_luc  = gdeltr2::ft_v2_api(
terms = c("LUC", "Ley de Urgente Consideración"),
modes = c("ArtList"),
visualize_results = F,
timespans = "55 days",
source_countries = "UY"
)
prensa_luc = subset(prensa_luc,duplicated(prensa_luc$titleArticle)==FALSE)
prensa_luc172022 = prensa_luc
save(prensa_luc172022, file = paste0("C:/Users/Usuario/Documents/LUC/Bases_diarias/prensa/prensa_luc", Sys.Date(),".RData"))
runApp()
library("httr")
library("foreign")
library("twitteR")
library(splitstackshape)
library("tidyverse")
library("sqldf")
library("ROAuth")
library("httr")
library("foreign")
library(tidyverse)
library(splitstackshape)
library(sqldf)
library("rtweet")
library("rjson")
library(mongolite)
library(beepr)
token = create_token(app = "Cursocuali",
consumer_key = "RPTRJroZJtehFMGs30pX96F7t",
consumer_secret = "ih7OJVNAnzwbpWVgedAB4D0B2rtSlCUG0X9EBuHNEoSGDkuqVm",
access_token = "2296175138-EJAjXB7H3gnnUIFxYWl53WPSv691LsZeLDXuNfE",
access_secret = "6rTXlnlhaGtHuAnC6KCVuNqu60R4IBMyW3SSs0AArjWGJ",
set_renv = TRUE)
votosi_diaria <- search_tweets(
"#votosi", n = 18000, include_rts = TRUE,retryonratelimit=TRUE)
votosi_diaria$date <- Sys.Date()
##homogeinizo nombres
votosi_diaria = votosi_diaria %>%
select(-quote_count,-reply_count,-ext_media_type,-account_lang,
-ext_media_t.co,-media_t.co,-urls_t.co)
##CAMBIAR CADA DÍA
votosi_diaria242022=votosi_diaria
save(votosi_diaria242022, file = paste0("C:/Users/Usuario/Documents/LUC/Bases_diarias/votosi/base",
Sys.Date(),".RData"))
##votasidiaria - se corre diariamente
votasi_diaria <- search_tweets(
"#votasi", n = 18000, include_rts = TRUE,retryonratelimit=TRUE)
votasi_diaria$date <- Sys.Date()
votasi_diaria = votasi_diaria %>%
select(-quote_count,-reply_count,-ext_media_type,-account_lang,
-ext_media_t.co,-media_t.co,-urls_t.co)
##CAMBIAR CADA DÍA
votasi_diaria242022=votasi_diaria
save(votasi_diaria242022, file = paste0("C:/Users/Usuario/Documents/LUC/Bases_diarias/votasi/base_votasi",
Sys.Date(),".RData"))
# ##base general sacando duplicados
#
# votosi_crec <- rbind(votosi_df_acumulada, votosi_diaria)
# votosi_crec <- subset(votosi_crec,duplicated(votosi_crec$status_id)==F)
#
#
# ##saco lo que hay en duplicados y cargo acumulado
#
# acumulada$drop()
#
# acumulada$insert(votosi_crec)
##LUC diaria
##votosidiaria
luc_diaria <- search_tweets(
"LUC", n = 18000, include_rts = TRUE,retryonratelimit=TRUE)
luc_diaria$date <- Sys.Date()
##homogeinizo nombres
luc_diaria = luc_diaria %>%
select(-quote_count,-reply_count,-ext_media_type,-account_lang,
-ext_media_t.co,-media_t.co,-urls_t.co)
##me quedo con Uruguay y/o Montevideo
luc_diaria_uru = luc_diaria%>%
dplyr::filter(grepl('Uruguay|Montevideo', location))
##ponerle nombre diferente al objeto!!!!!!!!!!!
luc_diaria_uru242022 = luc_diaria_uru
save(luc_diaria_uru242022, file = paste0("C:/Users/Usuario/Documents/LUC/Bases_diarias/luc/base_luc",
Sys.Date(),".RData"))
##votaNOderogar
noderogar_diaria <- search_tweets(
"#votaNOderogar", n = 18000, include_rts = TRUE,retryonratelimit=TRUE)
noderogar_diaria$date <- Sys.Date()
##homogeinizo nombres
noderogar_diaria = noderogar_diaria %>%
select(-quote_count,-reply_count,-ext_media_type,-account_lang,
-ext_media_t.co,-media_t.co,-urls_t.co)
##CAMBIAR CADA DÍA
noderogar_diaria242022=noderogar_diaria
save(noderogar_diaria242022, file = paste0("C:/Users/Usuario/Documents/LUC/Bases_diarias/votanoderogar/base_votanoderogar",
Sys.Date(),".RData"))
##Screpeo Prensa
prensa_luc  = gdeltr2::ft_v2_api(
terms = c("LUC", "Ley de Urgente Consideración"),
modes = c("ArtList"),
visualize_results = F,
timespans = "55 days",
source_countries = "UY"
)
prensa_luc = subset(prensa_luc,duplicated(prensa_luc$titleArticle)==FALSE)
prensa_luc242022 = prensa_luc
save(prensa_luc242022, file = paste0("C:/Users/Usuario/Documents/LUC/Bases_diarias/prensa/prensa_luc", Sys.Date(),".RData"))
shiny::runApp()
base=read.spss("C:/Users/Usuario/Desktop/Trabajo/PSI Gustavo/Base datos UNITRA.sav",use.value.labels = T,to.data.frame = T,)
chisq.test(table(base$anteccondvio,base$derivado))  ##estan relacionadas
chisq.test(table(base$anteccondvio,base$iae)) ##estan relacionadas
table(base$anteccondvio,base$iae)
chisq.test(table(base$iae,base$actlaboral))##estan relacionadas
chisq.test(table(base$iae,base$anteccondvio)) ##estan relacionadas
table(base$iae)
113+48
chisq.test(table(base$iae,base$sexo)) #estan relacionadas
chisq.test(table(base$iae,base$edad_rec))
table(base$anteccondvio,useNA = "ifany")
#Sexo
table(base$anteccondvio,base$sexo,useNA = "ifany")
#Edad
#Edad
base$edad_rec=ifelse(base$edad>=17 & base$edad<=19,"Hasta 19",ifelse(base$edad>=20 & base$edad<=29,"De 20 a 29",ifelse(base$edad>=30 & base$edad<=39,"De 30 a 39",ifelse(base$edad>=40 & base$edad<=49,"De 40 a 49",ifelse(base$edad>=50 & base$edad<=59,"De 50 a 59",ifelse(base$edad>=60 & base$edad<=69,"De 60 a 69",ifelse(base$edad>=70 & base$edad<=79,"De 70 a 79",ifelse(base$edad>=80, "80 o más",NA))))))))
table(base$edad_rec,base$anteccondvio,useNA = "ifany")
#Origen
base$origen_rec=ifelse(base$procedencia=="                                                                      ",NA,base$procedencia)
base$origen_rec=ifelse(base$origen_rec==2,1,2)
table(base$origen_rec,base$anteccondvio,useNA = "ifany")
##derivado
table(base$derivado,base$anteccondvio,useNA = "ifany")
##ocupaci?n
table(base$actlaboral,base$anteccondvio,useNA = "ifany")
##comorbilidad m?dica
a=table(base$comorbmed1,base$anteccondvio,useNA = "ifany")
b=table(base$comorbmed2,base$anteccondvio,useNA = "ifany")
c=table(base$comorbmed3,base$anteccondvio,useNA = "ifany")
tabla=as.data.frame(cbind(a,b,c))
tabla_2=tabla[,c(2,5,8)]
tabla_2$total=rowSums(tabla_2)
tabla_3=tabla[,c(1,4,7)]
tabla_3$total=rowSums(tabla_3)
##ocupaci?n
table(base$referente,base$anteccondvio,useNA = "ifany")
#referentes familiares
table(base$referente,base$anteccondvio,useNA = "ifany")
#nivel instrucci?n
table(base$nivelinstru,base$anteccondvio,useNA = "ifany")
#antecedentes psi
##comorbilidad m?dica
a=table(base$antecperspsiq1,base$anteccondvio,useNA = "ifany")
b=table(base$antecperspsiq2,base$anteccondvio,useNA = "ifany")
c=table(base$antecperspsiq3,base$anteccondvio,useNA = "ifany")
tabla=as.data.frame(cbind(a,b))
tabla_2=tabla[,c(2,5)]
tabla_2$total=rowSums(tabla_2)
tabla_3=tabla[,c(1,4)]
tabla_3$total=rowSums(tabla_3)
library(tidyverse)
ggplot(base3,aes(tiempoconsprob, fill=anteccondvio,color=anteccondvio))+
geom_density(alpha=0.2)
ggplot(base3,aes(anteccondvio,tiempoconsprob, fill=anteccondvio,color=anteccondvio))+
geom_boxplot(alpha=0.4)+
theme(legend.position = "none")
shapiro.test(base3$tiempoconsprob)
var.test(tiempoconsprob ~ anteccondvio, data= base3)
t.test(tiempoconsprob ~ anteccondvio,data= base3, var.equal=T)
t.test(edad ~ anteccondvio,data= base3, var.equal=T)
wilcox.test(tiempoconsprob ~ anteccondvio, data=base3)
base1=subset(base,base$anteccondvio=="si")
base2=subset(base,base$anteccondvio=="no")
summary(base1$tiempoconsprob)
summary(base2$tiempoconsprob)
base3=subset(base,base$anteccondvio=="si" | base$anteccondvio=="no")
summary(base1$edad)
summary(base2$edad)
##asociaci?n
table(base3$anteccondvio,base3$sexo,useNA = "ifany")
chisq.test(table(base$anteccondvio,base$sexo))
base1=subset(base,base$iae=="SI")
base2=subset(base,base$iae=="NO")
summary(base1$tiempoconsprob)
summary(base2$tiempoconsprob)
base3=subset(base,base$iae=="SI" | base$iae=="NO")
summary(base1$edad)
summary(base2$edad)
##asociaci?n
chisq.test(table(base$iae,base$sexo)) #estan relacionadas
chisq.test(table(base$iae,base$edad_rec))
View(base)
table(base$iae,base$edad_rec)
chisq.test(table(base$iae,base$actlaboral))##estan relacionadas
base$iae,base$actlaboral)
table(base$iae,base$actlaboral)
chisq.test(table(base$iae,base$anteccondvio)) ##estan relacionadas
chisq.test(table(base$iae,base$derivado))
table(base$iae,base$derivado)
table(base$iae,base$origen_rec)
table(base$iae,base$anteccondvio)
table(base$iae,base$nivelinstru)
chisq.test(table(base$iae,base$nivelinstru))
table(base$iae,base$actlaboral)
chisq.test(table(base$iae,base$anteccondvio)) ##estan relacionadas
chisq.test(table(base$iae,base$actlaboral))##estan relacionadas
chisq.test(table(base$iae,base$actlaboral), simulate.p.value = TRUE)
chisq.test(table(base$anteccondvio,base$actlaboral))
shiny::runApp()
shiny::runApp()
table(total_luc$is_retweet)
table(total_luc$retweet_screen_name)
a=data.frame(table(total_luc$retweet_screen_name))
View(a)
View(total_luc)
View(a)
a<- total_luc %>%
group_by(retweet_screen_name)%>%
summarise(n=n())
View(a)
table(total_luc$is_retweet)
a<- total_luc %>%
filter(is_retweet==TRUE)%>%
group_by(retweet_screen_name)%>%
summarise(n=n())
View(a)
View(a)
a<- total_luc %>%
filter(is_retweet==TRUE)%>%
group_by(retweet_screen_name)%>%
summarise(n=n())%>%
top_n(25)
View(a)
a<- total_luc %>%
filter(is_retweet==TRUE)%>%
group_by(retweet_screen_name)%>%
summarise(n=n())%>%
top_n(70)%>%
arrange()
View(a)
?arrange
a<- total_luc %>%
filter(is_retweet==TRUE)%>%
group_by(retweet_screen_name)%>%
summarise(n=n())%>%
top_n(70)%>%
arrange(desc(n))
View(a)
a<- total_luc %>%
filter(is_retweet==TRUE)%>%
group_by(retweet_screen_name)%>%
summarise(conteo=n())%>%
top_n(70)%>%
arrange(desc(conteo))
runApp()
runApp()
runApp()
runApp()
runApp()
